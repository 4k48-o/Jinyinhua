# =====================================================
# Django 环境变量配置示例
# 使用方法：复制此文件为 .env 并修改相应的值
# =====================================================

# =====================================================
# Django 基础配置
# =====================================================
# 密钥（生产环境必须修改，建议使用随机字符串）
SECRET_KEY=your-secret-key-here-change-in-production

# 调试模式（开发环境：True，生产环境：False）
DEBUG=True

# 允许的主机（多个用逗号分隔）
ALLOWED_HOSTS=localhost,127.0.0.1

# =====================================================
# 数据库配置
# =====================================================
# 数据库引擎
# 选项：django.db.backends.postgresql, django.db.backends.mysql, django.db.backends.sqlite3
DB_ENGINE=django.db.backends.postgresql

# 数据库名称
DB_NAME=yantou_db

# 数据库用户名（PostgreSQL/MySQL 需要）
DB_USER=postgres

# 数据库密码（PostgreSQL/MySQL 需要）
DB_PASSWORD=0qww294e

# 数据库主机（PostgreSQL/MySQL 需要）
DB_HOST=localhost

# 数据库端口（PostgreSQL 默认 5432，MySQL 默认 3306）
DB_PORT=5432

# 数据库连接池最大存活时间（秒，默认 600）
DB_CONN_MAX_AGE=600

# =====================================================
# CORS 跨域配置
# =====================================================
# 允许的跨域来源（多个用逗号分隔）
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# =====================================================
# 生产环境安全设置
# =====================================================
# 强制 HTTPS 重定向（生产环境建议：True）
SECURE_SSL_REDIRECT=False

# HSTS (HTTP Strict Transport Security) 秒数（生产环境建议：31536000，即1年）
SECURE_HSTS_SECONDS=31536000

# Session Cookie 安全（生产环境建议：True）
SESSION_COOKIE_SECURE=False

# CSRF Cookie 安全（生产环境建议：True）
CSRF_COOKIE_SECURE=False

# CSRF 信任的来源（多个用逗号分隔，生产环境必须配置）
CSRF_TRUSTED_ORIGINS=https://example.com,https://www.example.com

# =====================================================
# 日志配置（可选）
# =====================================================
# 日志级别（DEBUG, INFO, WARNING, ERROR, CRITICAL）
LOG_LEVEL=INFO

# 是否使用 JSON 格式日志（生产环境建议：True）
USE_JSON_LOGGING=False

# 日志文件路径（生产环境）
LOG_FILE_PATH=logs/django.log

# =====================================================
# 国际化配置（可选）
# =====================================================
# 默认语言（zh-hans: 简体中文, en: 英文, zh-hant: 繁体中文）
LANGUAGE_CODE=zh-hans

# =====================================================
# Redis 配置（可选，用于缓存和会话存储）
# =====================================================
# Redis 主机
REDIS_HOST=localhost

# Redis 端口
REDIS_PORT=6379

# Redis 数据库编号（0-15）
REDIS_DB=0

# Redis 密码（如果有）
REDIS_PASSWORD=sj1qaz

# =====================================================
# 邮件配置（可选）
# =====================================================
# 邮件后端（smtp, console）
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend

# SMTP 主机
EMAIL_HOST=smtp.example.com

# SMTP 端口
EMAIL_PORT=587

# 是否使用 TLS
EMAIL_USE_TLS=True

# 邮件用户名
EMAIL_HOST_USER=

# 邮件密码
EMAIL_HOST_PASSWORD=

# 发件人邮箱
DEFAULT_FROM_EMAIL=noreply@example.com

# =====================================================
# 文件上传配置（可选）
# =====================================================
# 最大上传文件大小（字节，默认 10MB）
FILE_UPLOAD_MAX_MEMORY_SIZE=10485760

# 允许的文件类型（逗号分隔）
ALLOWED_FILE_EXTENSIONS=jpg,jpeg,png,gif,pdf,doc,docx,xls,xlsx

# =====================================================
# JWT 配置
# =====================================================
# Access Token 过期时间（分钟）
JWT_ACCESS_TOKEN_LIFETIME=15

# Refresh Token 过期时间（天）
JWT_REFRESH_TOKEN_LIFETIME=7

# =====================================================
# 安全增强配置
# =====================================================
# 登录失败次数限制
LOGIN_MAX_ATTEMPTS=5  # 最大失败次数
LOGIN_LOCKOUT_DURATION=900  # 锁定持续时间（秒，默认15分钟）
LOGIN_WINDOW_DURATION=3600  # 时间窗口（秒，默认1小时）
